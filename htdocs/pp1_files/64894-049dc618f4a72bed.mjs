"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[64894],{903414:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};r.hash="000e24070b5df05da76d803775cb37e6";let n=r},700554:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};r.hash="51f44b91a29d43c6d06785fcb846b61b";let n=r},770181:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="7982b415980bdf92f7b9338cb5f6c539";let n=r},910982:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="630f94c5c1fff86bdd3cb70e987c1fee";let n=r},547643:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(340523),n=i(5859);function a(e){let{isAuthenticated:t}=(0,n.B)(),i=t?"web_masonry_v2_auth":"web_masonry_v2_unauth",{checkExperiment:a}=(0,r.F)(),{anyEnabled:l,group:s}=a(i,{dangerouslySkipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:l,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},213377:(e,t,i)=>{i.d(t,{$H:()=>l,$q:()=>f,D6:()=>d,KN:()=>b,Lo:()=>n,P2:()=>x,TS:()=>v,Wv:()=>y,ZZ:()=>c,g5:()=>p,jC:()=>s,lX:()=>g,nW:()=>h,oX:()=>m,qG:()=>_,tG:()=>a,yF:()=>r,yc:()=>u,yt:()=>o});let r=236,n=2*r/3,a=175,l=24,s=4,o=8,d=2,u=2,c=14,p=16,h=12,g=16,x=24,m=16,_=-1,f=(e=!1,t=!1)=>e?t?g:h:x,y=({contentVisibleItemCount:e,gap:t,isDesktop:i,moduleWidth:n})=>e||n?Math.min((n-Math.ceil(e)*t)/e,i?r:a):r,b=(e,t,i,r,n=c)=>{let a=e+n,l=`
@media (min-width: ${t*a}px) and (max-width: ${(i+1)*a-1}px) {
  ${r}
}
`;return l},v=(e,t,i)=>{let n=i?3:2,l=t?5:n,s=t?r:a,d=t?m:o,u=s*l+d*l-(t?12:!t&&i?12:6);if(!e)return u;for(let t=l;t>=2&&!(e>u);t-=1)u=s*t+d*t;return u}},558273:(e,t,i)=>{i.d(t,{NK:()=>m,P6:()=>a,ZE:()=>g,Zt:()=>x,_J:()=>o,_S:()=>_,cL:()=>p,jL:()=>s,oN:()=>n,rM:()=>h,sV:()=>d,sY:()=>u});var r=i(115557);let n=5e3,a=n/r.gJ,l=["Uploaded by user"],s=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!c(t),h=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,g=e=>/pin.it/gim.test(e||""),x=({link:e,mobileLink:t,origImageUrl:i,trackedLink:r})=>t||r||e||i||"",m=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){for(let t of l)if(e===t)return!1;return!0}},637253:(e,t,i)=>{i.d(t,{Z:()=>g});var r=i(667294),n=i(702664),a=i(288240),l=i(5859),s=i(227258),o=i(638747),d=i(342513);let{Provider:u,useMaybeHook:c}=(0,d.Z)("SuspensefulResource"),p={},h=({httpStatus:e})=>!e||e>=500;function g(e,t,i,d){let{headers:u,name:g,noCache:x,options:m,schema:_}=e,f=function(){let e=c();return e?t=>e.addToBeSent(t):()=>{}}(),y=(0,o.vL)(),b=(0,n.useDispatch)(),v=(0,a.Z)(m),P=(0,r.useRef)(),j=e=>(e[g]||p)[v]||p,R=(0,n.useSelector)(({resources:e})=>{let t=j(e);return!!t.error||void 0!==t.data}),T=(0,n.useSelector)(({resources:e})=>j(e).error),S=(0,n.useSelector)(({resources:e})=>!!j(e).fetching),k=(0,r.useCallback)(e=>{b((0,s.U)(g,{options:m,schema:_,bookmark:e,headers:u},y,f))},[b,g,v,_,u]),A=(0,r.useCallback)(()=>{b((0,s.b)(g,{options:m,schema:_,headers:u},y))},[b,g,v,_,u]),{isBot:D}=(0,l.B)(),E=(0,r.useCallback)(()=>{if(!i&&P.current!==v){let e=void 0===P.current;P.current=v,!R&&!S||d&&e&&T&&h(T)?k():(!D&&x||t)&&A()}},[d,k,A,i,T,D,S,R,t,x,v]),w=(0,r.useMemo)(()=>({name:i?null:g,optionsKey:i?null:v}),[i,g,v]),C=(0,r.useMemo)(()=>({fetchResource:E,dispatchGet:k,dispatchRefresh:A,ref:w}),[E,k,A,w]);return C}},757640:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(667294),n=i(702664),a=i(616550),l=i(288240),s=i(227258),o=i(839967),d=i(637253);let u={};function c(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:i,headers:c,name:p,noCache:h,options:g,schema:x}=e??{name:"DisabledResource",options:null},m=!e,_=(0,l.Z)(g),f=(0,r.useRef)(null),y=(0,a.k6)(),b=y&&"POP"!==y.action,v=e=>(e[p]||u)[_]||u,P=(0,n.useSelector)(({resources:e})=>v(e).nextBookmark),j=(0,n.useSelector)(({resources:e})=>v(e).data),R=(0,n.useSelector)(({resources:e})=>v(e).auxData),T=(0,n.useSelector)(({resources:e})=>v(e).error),S=(0,n.useSelector)(({resources:e})=>!!v(e).fetching),k=!!T||void 0!==j,A=k&&!S&&P===o.q,D=!!(k&&t&&b&&!m),[E,w]=(0,r.useState)(D),{fetchResource:C,dispatchGet:O,dispatchRefresh:F}=(0,d.Z)({headers:c,name:p,noCache:h,options:g,schema:x},D,m,!0);(0,r.useEffect)(()=>{i||C()}),i&&C();let I=(0,r.useCallback)(()=>{m||(F(),w(!0))},[m,s.b,p,_,c,w]),Z=(0,r.useCallback)(()=>{!P||A||S||m||O(P)},[m,O,P,A,S]);if(f.current){if(k&&!S)f.current=null;else if(i)throw f.current}let M=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:I}),z={auxData:R,data:j,error:T,fetchMore:Z,isAtEnd:A,isFetching:S,isLoaded:k,isRefreshing:E,nextBookmark:P,refresh:I};return(0,n.shallowEqual)(z,M.current)||(E&&(M.current.data||!D)&&!(0,n.shallowEqual)(z.data,M.current.data)&&(z.isRefreshing=!1,w(!1)),M.current=z),M.current}},314018:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(860208),n=i(337478);function a({bubbleId:e,pinId:t,query:i,referringSource:a,storyCategory:l,storyId:s,title:o}){let d=[0,24,21,26].includes(l),u=(0,n.Z)({q:i,rs:a||void 0,b_id:e,source_id:s,top_pin_id:t}),c=d&&o?(0,r.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?c:`/search/pins/${u?"?"+u:""}`}},115557:(e,t,i)=>{i.d(t,{$f:()=>a,Cy:()=>d,DR:()=>n,EB:()=>p,Fm:()=>o,Y7:()=>c,bR:()=>s,gJ:()=>l,lG:()=>u});var r=i(172045);let n=1,a=2,l=1e3,s=1e3,o=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function c(e){return e+"-"+(0,r.Z)()}function p(){return(0,r.Z)()}},676554:(e,t,i)=>{i.d(t,{F4:()=>_,ZP:()=>S,hW:()=>m,jz:()=>f,q:()=>x,rX:()=>k}),i(167912);var r,n,a,l,s=i(240684),o=i(207012),d=i(554786),u=i(149722),c=i(19447),p=i(118923),h=i(832853),g=i(785893);let x=(0,s.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(4254),i.e(68141),i.e(33994),i.e(92869),i.e(2984)]).then(i.bind(i,967077)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>967077}),m=(0,s.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(93810),i.e(9253),i.e(39921)]).then(i.bind(i,419358)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>419358}),_=(0,h.Z)(()=>Promise.all([i.e(4254),i.e(68141),i.e(33994),i.e(92869),i.e(2984)]).then(i.bind(i,967077)),void 0,"AuthDesktopPinRep"),f=(0,h.Z)(()=>Promise.all([i.e(97270),i.e(93810),i.e(9253),i.e(39921)]).then(i.bind(i,419358)),void 0,"DefaultPinRep"),y=void 0!==r?r:r=i(910982),b=void 0!==n?n:n=i(770181),v=void 0!==a?a:a=i(903414),P=e=>{let t=(0,p.b)(),{pinKey:i,...r}=e,n=(0,o.Z)(v,i);return t?(0,g.jsx)(_,{...r,pinKey:n}):(0,g.jsx)(x,{...r,pinKey:n})},j=e=>{let t=(0,p.b)(),{pinId:i,pin:r,...n}=e,a=(0,c.S6)(),l=i?a(i):null,s=l||r;return t?(0,g.jsx)(_,{...n,pinKey:{type:"deprecated",data:s}}):(0,g.jsx)(x,{...n,pinKey:{type:"deprecated",data:s}})},R=void 0!==l?l:l=i(700554),T=e=>{let{pinKey:t,...i}=e,r=(0,p.b)(),n=(0,o.Z)(R,e.pinKey);return r?(0,g.jsx)(f,{...i,duploQueryRef:n}):(0,g.jsx)(m,{...i,duploQueryRef:n})};function S(e){let t=(0,d.HG)(),i=(0,u.Z)(),r=i&&i.isAuth&&t,n=(0,o.Z)(y,e.duploQueryRef);if(r&&!e.duploQueryRef){let{disableReaction:t,disableRounding:i,disableAppUpsell:r,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:a,duploFeedItemProps:l,duploIsSquarePin:s,duploLazyLoadImage:o,duploOneTapSave:d,duploPinCardDetailsMargin:u,duploPriorityFetchImage:c,duploQueryRef:p,duploShouldAddNiiSearchParamToImageUrls:h,duploShouldAllowProductPriceIndicator:x,duploConversationPin:m,topLevelTrafficSource:_,topLevelTrafficSourceDepth:f,trafficSource:y,...b}=e;return(0,g.jsx)(j,{...b})}let{attributionOption:a,blockClickEvents:l,borderStyle:s,disableHover:c,imageHeightModifier:p,imageOnlyOption:h,onError:x,onLoad:m,pin:_,pinImageCrop:f,pinImageFit:b,resolution:v,rounding:P,saveButtonOptions:R,authDesktopSelectionState:S,authDesktopSurface:k,pinOwner:A,duploQueryRef:D,...E}=e;return(0,g.jsx)(T,{...E,pinKey:n})}function k(e){let t=(0,d.HG)(),i=(0,u.Z)(),r=i&&i.isAuth&&t,n=(0,o.Z)(y,e.duploQueryRef),a=(0,o.Z)(b,e.pinKey);if(r&&!e.duploQueryRef&&null!=a&&null!=e.pinKey){let{disableReaction:t,disableRounding:i,disableAppUpsell:r,duploDedupeVisualAnnotations:n,duploDisablePinCardPadding:l,duploFeedItemProps:s,duploIsSquarePin:o,duploLazyLoadImage:d,duploOneTapSave:u,duploPinCardDetailsMargin:c,duploPriorityFetchImage:p,duploQueryRef:h,duploShouldAddNiiSearchParamToImageUrls:x,duploShouldAllowProductPriceIndicator:m,duploConversationPin:_,topLevelTrafficSource:f,topLevelTrafficSourceDepth:y,trafficSource:b,pinKey:v,...j}=e,{pin:R,pinId:T,...S}=j;return(0,g.jsx)(P,{...S,pinKey:a})}let{attributionOption:l,blockClickEvents:s,borderStyle:c,disableHover:p,imageHeightModifier:h,imageOnlyOption:x,onError:m,onLoad:_,pin:f,pinImageCrop:v,pinImageFit:j,resolution:R,rounding:S,saveButtonOptions:k,authDesktopSelectionState:A,authDesktopSurface:D,pinOwner:E,duploQueryRef:w,...C}=e;return(0,g.jsx)(T,{...C,pinKey:n})}},818385:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(667294),n=i(883119),a=i(205841),l=i(140017),s=i(666472),o=i(340523),d=i(314018),u=i(575742),c=i(427514),p=i(149722),h=i(67664),g=i(739711),x=i(785893);function m({bubble:e,contextLogData:t,disableTabIndex:i,handleReport:m,height:_,imgSignature:f,isHovered:y,onClick:b,onMouseEnter:v,onMouseLeave:P,referringSource:j,searchBoxRenderStopwatch:R,showFlag:T,slotIndex:S,storyId:k,viewParameter:A,viewType:D,width:E}){let w=(0,l.ZP)(),C=(0,p.Z)(),{id:O,action:F,aux_fields:I,cover_images:Z,dominant_colors:M,identifier_icon_type:z,title:L,story_category:N,curator:H}=e,{checkExperiment:B}=(0,o.F)(),{isAuth:K}=C,U="",W="";if(K&&5===D){U=B("blp_explore_bubble_image_size").group;let e=U.split("_");e.length>1&&U.startsWith("enabled")&&(W=e[1])}let q=Z&&Z[0]&&(U.startsWith("enabled")&&W?Z[0][W]:Z[0]["280x280"]||Z[0]["236x"]),X=(0,c.Z)(L&&L.format||"",L&&L.args||{}),$=M&&M.length?M[0]:"gray",G=F?.url||(0,d.Z)({storyCategory:N,query:X,referringSource:j,bubbleId:O,storyId:k,title:L.format,pinId:I?.image_pin_id});return(0,x.jsx)(s.F,{contextLogData:{story_id:k,...t},impressionAuxFields:{storyCategory:N,story_id:k},impressionType:"Article",loggingId:O,pinData:null,slotIndex:S,viewParameter:A,viewType:D,children:({impressionTrackerRef:e})=>(0,x.jsx)(n.xu,{ref:e,children:(0,x.jsx)(h.Z,{backgroundColor:$,coverImage:q,disableTabIndex:i,height:_,id:O,isHovered:y,onClick:b,onMouseEnter:v,onMouseLeave:P,searchBoxRenderStopwatch:R,url:G,width:E,children:({isHovered:e})=>(0,x.jsxs)(r.Fragment,{children:[H&&26!==N&&(0,x.jsx)(n.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),z&&z!==u.J&&(0,x.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,x.jsx)(n.JO,{accessibilityLabel:w._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,u.Z)(z),size:12})}),(0,x.jsx)(n.xu,{alignItems:26===N?"end":"center","data-test-id":"discover-bubble",display:"flex",height:_,justifyContent:"center",padding:3,position:"absolute",top:!0,width:E||"100%",children:(0,x.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[_>200?(0,x.jsx)(n.X6,{align:"center",color:"light",size:"500",children:X}):(0,x.jsx)(n.xv,{align:"center",color:"light",weight:"bold",children:X}),H&&26===N&&(0,x.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,x.jsx)(n.xu,{marginEnd:2,children:(0,x.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),(0,x.jsx)(n.xv,{color:"light",size:"100",children:H.full_name})]})]})}),C.isAuth&&C.isEmployee&&T?(0,x.jsx)(n.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,x.jsx)(g.Z,{handleReport:m,imgSignature:f||"",isVisible:e})}):null]})})})})}},67664:(e,t,i)=>{i.d(t,{A:()=>l,Z:()=>s});var r=i(667294),n=i(883119),a=i(785893);let l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:i,disableTabIndex:s,height:o,id:d,isHovered:u,onClick:c,onMouseDown:p,onMouseEnter:h,onMouseLeave:g,searchBoxRenderStopwatch:x,url:m,width:_}){let[f,y]=(0,r.useState)(!1),b=()=>{h?h():y(!0)},v=()=>{g?g():y(!1)},P=u||f,j=P?l.hoverOverlay:l.bubbleOverlay;return(0,a.jsx)(n.Tg,{href:m,onBlur:v,onFocus:b,onMouseDown:p,onMouseEnter:b,onMouseLeave:v,onTap:()=>{c?.(d)},rounding:4,tabIndex:s?-1:void 0,children:(0,a.jsx)(n.zd,{height:o,rounding:4,width:_||"100%",children:i?.url?(0,a.jsxs)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,onLoad:()=>{x?.stop()},role:"presentation",src:i.url,children:[(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:j},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:P}):t]}):(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},739711:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(667294),n=i(883119),a=i(107366),l=i(930837),s=i(454514),o=i(140017),d=i(13848);let u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var c=i(785893);function p(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends r.Component{constructor(...e){super(...e),p(this,"state",{hovered:!1}),p(this,"handleMouseEnter",()=>this.setState({hovered:!0})),p(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,r=Object.freeze({height:e,width:e}),a={border:0,display:"block",background:"transparent",cursor:"pointer",...u.buttonFocus},l={...u.pog,...u.transparent,...this.state.hovered?u.transparentHovered:{}},s={...r,...l};return(0,c.jsx)("button",{onClick:e=>t&&t({event:e}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,c.jsx)("div",{style:s,children:(0,c.jsx)(n.xu,{rounding:"circle",children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:i,icon:"flag",size:e/2})})})})}}var g=i(825784);function x(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends r.PureComponent{constructor(...e){super(...e),x(this,"state",{showModal:!1,reportType:null}),x(this,"handleDismiss",()=>this.setState({showModal:!1})),x(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),x(this,"reportSuggestionImage",async()=>{let{imgSignature:e,reportImage:t}=this.props;this.setState({showModal:!1});let i=await (0,a.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),{id:r,node_id:n}=i.resource_response.data;t({id:r,nodeId:n})}),x(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,c.jsx)(s.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})),this.handleDismiss())}),x(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,c.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,c.jsx)(h,{backgroundHaloSize:24,onClick:this.showModal}),e&&(0,c.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,c.jsxs)(n.xu,{children:[(0,c.jsx)(n.xu,{padding:5,children:(0,c.jsx)(n.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,c.jsxs)(n.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,c.jsxs)(n.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,c.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,c.jsx)(n.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,c.jsx)(n.xu,{flex:"grow",children:(0,c.jsx)(n.__,{htmlFor:"textType",children:(0,c.jsx)(n.xu,{paddingX:2,children:(0,c.jsx)(n.xv,{children:"Report search text"})})})})]}),(0,c.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,c.jsx)(n.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,c.jsx)(n.xu,{flex:"grow",children:(0,c.jsx)(n.__,{htmlFor:"imageType",children:(0,c.jsx)(n.xu,{paddingX:2,children:(0,c.jsx)(n.xv,{children:"Report search image"})})})})]})]}),(0,c.jsx)(n.iz,{}),(0,c.jsxs)(n.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,c.jsx)(n.xu,{margin:2,children:(0,c.jsx)(n.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,c.jsx)(n.xu,{margin:2,children:(0,c.jsx)(n.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}function _(e){let t=(0,o.ZP)(),{reportImage:i}=(0,g.f)();return(0,c.jsx)(m,{...e,i18n:t,reportImage:i,toastManagerContext:(0,d.F9)()})}},825784:(e,t,i)=>{i.d(t,{X:()=>u,f:()=>d});var r=i(667294),n=i(342513),a=i(558273);function l(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var s=i(785893);let{Provider:o,useHook:d}=(0,n.Z)("ReportData");function u({children:e}){let[t,i]=(0,r.useReducer)(l,null),n=(0,r.useCallback)(()=>i({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,r.useCallback)((e,t,r)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:r,nodeId:null}}),[]),u=(0,r.useCallback)((e,t,r)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"conversation",nodeId:null}}),[]),c=(0,r.useCallback)(({id:e,viewParameter:t,viewType:r,nodeId:n})=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"pin",nodeId:n}}),[]),p=(0,r.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:r,firstVideoDuration:n,isProduct:l,viewParameter:s,viewType:o,isThirdPartyAd:d,nodeId:u})=>{let c=(0,a.jL)(t,r);i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:l,isPromoted:c,videoDuration:n,viewParameter:s,viewType:o,type:"pin",isThirdPartyAd:d,nodeId:u}})},[]),h=(0,r.useMemo)(()=>({reportData:t,dismiss:n,reportComment:d,reportConversation:u,reportImage:c,reportPin:p}),[t,n,d,u,c,p]);return(0,s.jsx)(o,{value:h,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/64894-049dc618f4a72bed.mjs.map