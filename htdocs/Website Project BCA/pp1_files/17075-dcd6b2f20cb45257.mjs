"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17075],{391014:(e,a,i)=>{i.r(a),i.d(a,{default:()=>n});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2";let n=t},860972:(e,a,i)=>{var t;i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="a3cbf6d55cf89d97d6e04c32195968d9";let l=n},902965:(e,a,i)=>{var t,n;i.r(a),i.d(a,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:n=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};l.hash="6588018e2880f2695fc6c4ba45aab606";let r=l},965361:(e,a,i)=>{var t;i.r(a),i.d(a,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="b49953855cdc69f6ee2c8d4925149d23";let l=n},663056:(e,a,i)=>{i.d(a,{P:()=>g,Z:()=>c});var t,n,l,r,s=i(167912),d=i(807023),o=i(895409),u=i(333739);function c(e){let{childDataKey__DEPRECATED:a}=(0,d.Q)(void 0!==r?r:r=i(391014),e,{useLegacyAdapter:()=>({})}),c=function(e){let{data:a}=(0,d.Q)(void 0!==t?t:t=i(860972),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return a?.carouselData?{index:a.carouselData.index,carouselId:a.carouselData.entityId,carouselSlots:a.carouselData.carouselSlots?.map(({details:e,imageSignature:a,image236x:i,image474x:t,image564x:n,image736x:l,slotId:r,title:s})=>({details:e,imageSignature:a,imageSizeMap:[["236x",i],["474x",t],["564x",n],["736x",l]].reduce((e,[a,i])=>({...e,[a]:i}),{}),slotId:r,title:s}))??[]}:null}(a),g=function({pinKey:e,index:a}){let t;return t=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,u.Zm)(void 0!==l?l:l=i(902965),t,{useGraphQLAdapter:e=>{let t=(e.richMetadata||e.richSummary)?.products?.[0],l=function(e){let a=(0,s.useFragment)(void 0!==n?n:n=i(965361),e);if(!a)return[];let t={},{image236x:l,image474x:r,image564x:d,image736x:o}=a;return[[l,"236x"],[r,"474x"],[d,"564x"],[o,"736x"]].forEach(([e,a])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:i})=>{i&&e&&(t={...t,[i]:{...t[i],[a]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(t).map(([e,a])=>({imageSignature:e,imageSizeMap:a}))}(t);return t&&l.length?{carouselId:t.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[a,i])=>({...e,[a]:i&&{height:i.height,url:i.url,width:i.width}}),{})},...l],index:a}:null},useLegacyAdapter:e=>{let i=(e?.rich_metadata||e?.rich_summary)?.products?.[0],t=(i?.additional_images??[]).reduce((e,{canonical_images:a,image_signature:i})=>e.concat(a&&i?[{imageSignature:i,imageSizeMap:Object.keys(a).reduce((e,i)=>a[i]?{...e,[i]:{height:a[i].height,url:a[i].url,width:a[i].width}}:e,{})}]:[]),[]);return e&&i&&t.length?{carouselId:i.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,o.b)(e.images)}]:[],...t],index:a}:null}}).data}({pinKey:a,index:c?.index});return g?{...g,carouselSlots:g.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:c}function g({children:e,pinKey:a}){return e(c(a))}},895409:(e,a,i)=>{i.d(a,{b:()=>n});let t=({height:e,url:a,width:i})=>({height:e,url:a,width:i}),n=e=>Object.entries(e).reduce((e,[a,i])=>({...e,[a]:i&&t(i)}),{})},807023:(e,a,i)=>{i.d(a,{Q:()=>r});var t=i(167912),n=i(91402),l=i(333739);function r(e,a,{useLegacyAdapter:i}){if(null==a)return{data:null,childDataKey__DEPRECATED:null};let r=(0,n.j)(a);if("deprecated"===r.type){let{data:a}=r;return null==a?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,i)(a),childDataKey__DEPRECATED:r}}let s=(0,t.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},194602:(e,a,i)=>{i.d(a,{Z:()=>s});var t=i(667294);let n=()=>()=>{},l=()=>!1,r=()=>!0,s=()=>{let e=(0,t.useSyncExternalStore)(n,l,r);return e}},206923:(e,a,i)=>{i.d(a,{fv:()=>v,fS:()=>S,lu:()=>_,PR:()=>f,Mv:()=>I,uc:()=>w,dL:()=>h,qS:()=>D,Y4:()=>T,HE:()=>k,Cy:()=>P});var t=i(666472),n=i(667294),l=i(263032),r=i(214877),s=i(547643),d=i(30378),o=i(340523),u=i(5859),c=i(554786),g=i(194602),m=i(369708),p=i(953565),y=i(84768);function x({auxData:e,component:a,eventData:i,eventType:t,impressionType:x,isPaused:h,objectIdStr:I,viewData:w,viewType:v,viewParameter:D}){let P=(0,n.useRef)(null),{logImpression:k}=(0,r.v)(),T=(0,y.MM)(),S=(0,g.Z)(),_=(0,c.ZP)(),f=(0,u.B)(),b=f.isAuthenticated,{checkExperiment:F}=(0,o.F)(),K=F(b?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,{logMrcVideoAdImpressionOnPlay:L}=(0,m.rG)(),{expName:C,group:E}=(0,s.Z)({skipActivation:!0}),A=(0,n.useCallback)(()=>{try{if(P.current instanceof HTMLElement){let{pinIdStr:n,newsIdStr:r}=i;d.Z.start(P.current).onExitViewport(n=>{if(P.current&&K){let l=new IntersectionObserver(([r])=>{let s={viewData:w||{},viewType:v,viewParameter:D,eventType:t,impressionType:x,auxData:e,component:a,objectIdStr:I,eventData:{endTime:n.endTime,time:n.startTime,pinCellWidth:r.boundingClientRect.width||0,pinCellHeight:r.boundingClientRect.height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...i}};k(s),L(s),P.current&&l.unobserve(P.current)});P.current&&l.observe(P.current)}else{let l={viewData:w||{},viewType:v,viewParameter:D,eventType:t,impressionType:x,auxData:e,component:a,objectIdStr:I,eventData:{endTime:n.endTime,time:n.startTime,pinCellWidth:P.current?.getBoundingClientRect().width||0,pinCellHeight:P.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,...i}};k(l),L(l)}let{attributionSourceId:r,campaignId:s,isPromoted:d,link:o,adDestinationUrl:u,domain:c,advertiserId:g}=i;"pinImpressions"===x&&d&&!S&&window.document.featurePolicy?.allowsFeature("attribution-reporting")&&(0,l.YS)(x,d,r??null,o,s,{appType:f.appTypeDetailed,osType:(0,l.eF)(f.userAgent.osName??"Unknown")},g??null,c,u,F("m10n_ara_hardcoded_reporting_url").anyEnabled)}).setDebugId(n||r||"unknown"),E&&(0,p.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_www_useImpresionTracker",deviceType:_,experimentName:C,group:E,handlerId:T,isAuthenticated:f.isAuthenticated,slotIndex:i.slotIndex??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[P.current]);return(0,n.useEffect)(()=>{h||A();let{current:e}=P;return()=>{e instanceof HTMLElement&&d.Z.stop(e)}},[h,A]),P}let h=e=>{let a=x({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},I=e=>{let a=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:a})},w=e=>{let a=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:a})},v=e=>{let a=x({eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},D=e=>{let a=x({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},P=e=>{let a=x({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},k=e=>{let a=x({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},T=e=>{let a=x({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})},S=e=>{let a=x({eventData:{...e.impressionData||{},boardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:a})},_=e=>{let a=(0,t.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:a})},f=e=>{let a=x({eventData:{...e.impressionData||{},curatedBoardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:15555,impressionType:"curatedBoardImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:a})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17075-dcd6b2f20cb45257.mjs.map